{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}

{% block body %}
	{% if showFeedback %}
		{% include 'home/partials/toasts.html.twig' %}
	{% endif %}

	<div class="card mb-6 p-6 bg-darkGrey border border-neonBlue rounded-xl shadow-xl space-y-4">
		<h1 class="text-white text-2xl font-bold">
			Bonjour
			{% if app.user.profile.nickname is defined and app.user.profile.nickname %}
				{{ app.user.profile.nickname }}
			{% else %}
				{{ app.user.email }}
			{% endif %}
		</h1>

		<div class="flex flex-wrap gap-4">
			<a href="{{ path('event_create') }}" class="btn-primary">
				Organiser une LAN
			</a>
		</div>
	</div>

	<div>
		<h2 class="text-neonBlue text-xl font-semibold mb-6">Evénements à venir</h2>

		{% if openedEvents is empty %}
			<p class="text-gray-300">Aucun événement à venir pour le moment.</p>
		{% else %}
			{% include 'home/partials/_opened_lans_section.html.twig' %}
		{% endif %}
	</div>

	<div>
		<h2 class="text-neonBlue text-xl font-semibold mb-6 mt-8">Evénements passés</h2>
		{% if closedEvents is empty %}
			<p class="text-gray-300">Aucun événement à venir pour le moment.</p>
		{% else %}
			{% include 'home/partials/_closed_lans_section.html.twig' %}
		{% endif %}
	</div>
{% endblock %}
{% block modals %}
	{% for event in openedEvents %}
		{% if app.user and app.user == event.organizer %}
			{% include 'home/partials/_delete_event_modal.html.twig' with { event: event } %}
			{% include 'home/partials/_close_event_modal.html.twig' with { event: event } %}
		{% endif %}
	{% endfor %}
{% endblock %}
