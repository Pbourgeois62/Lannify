{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}

{% block body %}
	{% if showFeedback %}
		{% include 'home/partials/toasts.html.twig' %}
	{% endif %}

	<div
		class="flex flex-col space-y-12">
		{# Section de bienvenue #}
		<div class="space-y-6 flex flex-col items-center justify-center p-8" style="min-height: calc(100vh - 10rem);">
			<h1 class="text-neonBlue text-4xl font-bold text-center">
				Salut
				{% if app.user.profile.nickname is defined and app.user.profile.nickname %}
					{{ app.user.profile.nickname }}
				{% else %}
					{{ app.user.email }}
				{% endif %}
			</h1>

			<p class="text-white text-2xl text-center max-w-2xl">
				Pr√™t √†
				<span class="text-neonBlue">organiser</span>,
				<span class="text-electricPurple">rejoindre</span>
				ou
				<span class="text-neonYellow">d√©couvrir</span>
				ta prochaine session gaming ?
			</p>

			{% if app.user.profile.isNickNameEdited == false %}

				<div class="flex items-center justify-center space-x-2">
					<p class="text-white text-center max-w-2xl">
						Oui, tu as un pseudo un peu bizarre... N'h√©site pas √† le changer dans ton profil !
					</p>
					<a href="{{ path('user_profile') }}" class="btn-primary">‚û°Ô∏èProfil</a>
				</div>
			{% endif %}
			<div class="flex flex-col items-center justify-center space-y-4 w-full max-w-xl mx-auto">
				<div class="w-full border p-4 border-gray-700 text-center input">
					{{ component('SearchSomethingComponent', {        	 
    				}) }}
				</div>

				<div class="flex w-full space-x-4">
					<a href="{{ path('game_session_create') }}" class="btn-primary flex-1 text-center py-3">Organiser une partie multi</a>
					<a href="{{ path('event_create') }}" class="btn-secondary flex-1 text-center py-3">Organiser une LAN</a>
				</div>
			</div>

			{# CTA principaux, centr√©s horizontalement #}
			<div class="grid grid-cols-1 sm:grid-cols-3 gap-8 mt-8 justify-items-center">
				<a href="#" class="glass-modal-success space-y-4">
					<span class="text-neonBlue text-3xl">üéÆ</span>
					<span class="text-white font-semibold">Organiser une LAN</span>
					<p class="text-gray-400 text-sm text-center">Cr√©ez votre √©v√©nement, invitez des participants et g√©rez votre LAN.</p>
				</a>
				<a href="{{ path('game_session_create') }}" class="glass-modal-success space-y-4">
					<span class="text-neonBlue text-3xl">ü§ù</span>
					<span class="text-white font-semibold">Trouver un groupe en ligne</span>
					<p class="text-gray-400 text-sm text-center">Rejoignez ou cr√©ez un groupe pour jouer en ligne avec d‚Äôautres joueurs.</p>
				</a>
				<a href="#" class="glass-modal-success space-y-4">
					<span class="text-neonBlue text-3xl">üí¨</span>
					<span class="text-white font-semibold">Connecter Discord</span>
					<p class="text-gray-400 text-sm text-center">Int√©grez votre serveur pour cr√©er automatiquement des salons vocaux et textuels.</p>
				</a>
			</div>
		</div>


		{# √âv√©nements √† venir #}
		<div class="container mx-auto px-4">
			<h2 class="text-neonBlue text-xl font-semibold mb-6">√âv√©nements √† venir</h2>
			{% if openedEvents is empty %}
				<p class="text-gray-300">Aucun √©v√©nement √† venir pour le moment.</p>
			{% else %}
				{% include 'home/partials/_opened_lans_section.html.twig' %}
			{% endif %}
		</div>

		{# √âv√©nements pass√©s #}
		{# <div class="container mx-auto px-4">
			<h2 class="text-neonBlue text-xl font-semibold mb-6">√âv√©nements pass√©s</h2>
			{% if closedEvents is empty %}
				<p class="text-gray-300">Aucun √©v√©nement pass√© pour le moment.</p>
			{% else %}
				{% include 'home/partials/_closed_lans_section.html.twig' %}
			{% endif %}
		</div> #}
	</div>
{% endblock %}
{% block modals %}
	{% for event in openedEvents %}
		{% if app.user and app.user == event.organizer %}
			{% include 'home/partials/_delete_event_modal.html.twig' with { event: event } %}
			{% include 'home/partials/_close_event_modal.html.twig' with { event: event } %}
		{% endif %}
	{% endfor %}
{% endblock %}
