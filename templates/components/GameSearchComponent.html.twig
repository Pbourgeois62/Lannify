<div {{ attributes }}>
    {# --- Champ de recherche --- #}
    {{ form_start(form) }}
        {{ form_row(form.query, {
            attr: {
                class: 'input',
                'data-live-action-param': 'debounce(500)|search',
                'data-action': 'live#action',
                'data-model': 'query'
            },
            label_attr: {'class': 'block text-sm font-medium text-neonBlue mb-2'}
        }) }}
    {{ form_end(form) }}

    {# --- Message d'erreur --- #}
    {% if errorMessage %}
        <p class="mt-3 text-red-400 bg-red-950/40 border border-red-800 rounded p-2">
            {{ errorMessage }}
        </p>
    {% endif %}
    
    {# --- Indicateur de recherche --- #}
    {% if rawgData is empty and query is not empty %}
        <div class="mt-4 text-neonBlue font-semibold">
            üîÑ Recherche en cours...
        </div>    

    {# --- R√©sultats de recherche --- #}
    {% elseif rawgData is not empty %}
        <div class="mt-4 flex flex-wrap justify-center">
            {% for g in rawgData %}
                <div class="bg-gray-900 shadow-lg overflow-hidden flex flex-col w-full sm:w-1/2 md:w-1/3 lg:w-1/4 ">
                    {% if g.background_image %}
                        <img src="{{ g.background_image }}" alt="{{ g.name }}" class="w-full h-48 object-cover">
                    {% endif %}
                    <div class="p-4 flex flex-col flex-grow">
                        <p class="font-semibold text-neonBlue text-lg mb-1">{{ g.name }}</p>
                        <p class="text-gray-400 text-sm mb-1">
                            Date de sortie : {{ g.released ?? 'N/A' }}
                        </p>
                        <p class="text-gray-400 text-sm mb-2">
                            ‚≠ê {{ g.rating ?? '‚Äî' }}
                        </p>
                        <button
                            type="button"
                            class="btn-primary mt-auto"
                            data-action="live#action"
                            data-live-action-param="selectGame"
                            data-live-id-param="{{ g.id }}">
                            S√©lectionner
                        </button>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% elseif query %}
        <p class="text-gray-400 italic mt-4">Aucun r√©sultat trouv√© pour "{{ query }}".</p>
    {% endif %}
</div>
