{% extends 'base.html.twig' %}

{% block title %}Session créée{% endblock %}

{% block body %}
<div class="flex flex-col items-center justify-center min-h-[80vh] text-center space-y-10 px-6">

    {# Icône de succès #}
    <div class="flex flex-col items-center space-y-3">
        <div class="flex items-center justify-center w-16 h-16 rounded-full bg-green-600/20 border border-green-500">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-green-500" fill="none" viewBox="0 0 24 24"
                 stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M5 13l4 4L19 7"/>
            </svg>
        </div>
        <h1 class="text-3xl font-bold text-neonBlue">Session créée avec succès</h1>
        <p class="text-gray-400 max-w-md">
            Ta nouvelle session de jeu est maintenant enregistrée.  
            Nous préparons tout pour t’y emmener…
        </p>
    </div>

    {# Timeline visuelle #}
    <div class="w-full max-w-xl">
        {% include 'game_session/partials/_timeline.html.twig' %}
    </div>

    {# Détails de la session #}
    <div class="w-full max-w-md bg-gray-800/70 border border-gray-700 rounded-2xl shadow p-6 text-left space-y-4">
        <h2 class="text-lg font-semibold text-neonBlue mb-2">Résumé de la session</h2>
        <p class="text-gray-300"><span class="text-gray-400">Nom :</span> {{ gameSession.title }}</p>
        <p class="text-gray-300"><span class="text-gray-400">Jeu :</span> {{ gameSession.gameTitle ?? 'Non spécifié' }}</p>
        <p class="text-gray-300"><span class="text-gray-400">Date :</span> {{ gameSession.startDate ? gameSession.startDate|date('d/m/Y H:i') : 'À définir' }}</p>
        <p class="text-gray-300"><span class="text-gray-400">Participants :</span> {{ gameSession.participants|length }} joueur{{ gameSession.participants|length > 1 ? 's' : '' }}</p>
    </div>

    {# Bloc descriptif sur la suite #}
    <div class="max-w-lg text-gray-400 leading-relaxed">
        <p>
            Dans un instant, tu seras redirigé vers la page de ta session.  
            Tu pourras y retrouver toutes les informations, suivre les participants, et organiser la partie.
        </p>
        <p class="mt-4">
            En attendant, vérifie que tout est correct — le jeu, la date, et le nom de ta session — pour que tes amis
            s’y retrouvent facilement.
        </p>
    </div>

</div>

{# Redirection automatique vers la page de la session #}
<script>
    setTimeout(() => {
        window.location.href = "{{ path('game_session_show', { id: gameSession.id }) }}";
    }, 4000); // 4 secondes
</script>
{% endblock %}
